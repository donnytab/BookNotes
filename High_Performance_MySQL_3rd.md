[Chapter 1]

MySQL架构
客户端 -> (连接／线程处理，=> (查询缓存，<- 解析器 ->) -> 优化器) -> 存储引擎
连接管理与安全：线程执行（5.5后支持线程池 Thread-Pooling), SSL

并发控制
读写锁(shared lock / exclusive lock, or read lock / write lock)
锁粒度：（1）表锁(table lock) （2）行级锁(row lock)

事务
ACID （1）原子性 （2）一致性 （3）隔离性 （4）持久性
隔离级别：事务内或事务间的可见程度
（1）READ UNCOMMITTED:
	事务中的修改即使没提交也对其他事务可见
	可读未提交的数据（dirty read）
（2）READ COMMITTED:
	事务直到提交前对其他事务不可见
	大多数据库默认级别（非MySQL）
（3）REPEATABLE READ:
	同一事务中多次读取同样的记录的结果是一致的
	MySQL默认级别，解决dirty read，但无法解决幻读phantom read
（4）SERIALIZABLE:
	强制事务串行执行，避免幻读
	最高隔离级别，对读取的每一行数据加锁，可能导致超时和锁争用

死锁：两个或多个事务在同一资源上相互占用，并请求锁定对方占用的资源，从而导致恶性循环
死锁产生原因：数据冲突，存储引擎的实现方式
死锁监测，死锁超时机制
解决死锁：部分或完全回滚其中的一个事务，然后重新执行该事务
InnoDB解决死锁方法：将持有最少行级排他锁的事务进行回滚

事务日志：存储引擎只修改内存拷贝，再将修改行为记录到硬盘的事务日志中